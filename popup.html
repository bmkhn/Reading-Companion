<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Reading Companion</title>
		<link rel="stylesheet" href="popup.css" />
	</head>
	<body>
		<header class="header">
			<div class="title">Reading Companion</div>
			<div id="currentUrl" class="subtitle"></div>
		</header>

		<main class="main">
			<section class="card" id="materialSection">
				<div class="row between" style="margin-bottom: 0;">
					<div id="materialHeader" class="collapsible-header">
						<div class="label">Reading Material</div>
						<div id="materialTitle" class="value">None</div>
					</div>
					<div class="controls">
						<button id="declareMaterial" class="btn primary">Add material</button>
					</div>
				</div>

				<div id="materialBody" style="margin-top: 10px;">
					<div id="declareForm" class="row hidden" style="flex-direction: column; align-items: stretch; gap: 8px;">
						<div class="row" style="margin-bottom: 0;">
							<input id="declareTitle" class="input" placeholder="Material title" />
						</div>
						<div class="row" style="margin-bottom: 0;">
							<label class="label" for="declareKind" style="min-width: 90px;">Type</label>
							<select id="declareKind" class="select">
								<option value="multi">Multi-page</option>
								<option value="single">Single-page</option>
							</select>
						</div>
						<div class="row between" style="margin-bottom: 0;">
							<div class="hint">Creates material using the current page URL as index.</div>
							<div class="controls">
								<button id="declareCancel" class="btn">Cancel</button>
								<button id="declareCreate" class="btn primary">Create</button>
							</div>
						</div>
					</div>

					<div class="row" id="materialSelectRow">
						<label class="label" for="materialSelect">Select material</label>
						<select id="materialSelect" class="select"></select>
					</div>

					<div class="row requires-material between" id="materialActionsRow">
						<div class="label">Actions</div>
						<div class="controls">
							<button id="openMaterial" class="btn">Open</button>
							<button id="deleteMaterial" class="btn">Delete</button>
						</div>
					</div>
				</div>
			</section>

			<section class="card requires-material" id="singlePageNote">
				<div class="hint">
					This material is marked as <strong>single-page</strong>. Chapters are hidden.
				</div>
			</section>

			<section class="card requires-material" id="progressSection">
				<div class="row requires-page">
					<div class="label">Progress</div>
					<div class="value"><span id="pageProgress">â€”</span>%</div>
					<div class="controls" style="margin-left: auto;">
						<button id="markFinished" class="btn">Mark finished</button>
						<button id="goToProgress" class="btn">Jump to progress</button>
					</div>
				</div>

				<div class="row requires-page">
					<label class="label">
						<input id="ignoreScroll" type="checkbox" />
						Lock progress
					</label>
				</div>
			</section>

			<section class="card requires-material requires-multi" id="chaptersSection">
				<div class="row between requires-multi" style="margin-bottom: 0;">
					<div id="chaptersHeader" class="label collapsible-header">Chapters</div>
					<div class="controls" style="align-items: center; gap: 8px;">
						<div class="hint" id="chaptersPageHint"></div>
						<button id="addChapter" class="btn small requires-multi">Add current page</button>
						<button id="goToLatestChapter" class="btn small requires-multi requires-chapter">Go to latest chapter</button>
					</div>
				</div>

				<div id="chaptersBody" style="margin-top: 10px;">
					<div class="row requires-multi" id="chaptersGoRow">
						<input id="chaptersPageInput" class="input" placeholder="Go to chapter page #" />
						<button id="chaptersGo" class="btn">Go</button>
					</div>

					<ul id="chapters" class="list requires-multi"></ul>

					<div class="row requires-multi" id="chaptersPager" aria-label="Chapters pagination">
						<button id="chaptersFirst" class="btn small">First</button>
						<button id="chaptersPrev" class="btn small">Prev</button>
						<div id="chaptersPages" class="controls"></div>
						<button id="chaptersNext" class="btn small">Next</button>
						<button id="chaptersLast" class="btn small">Last</button>
					</div>
				</div>
			</section>

			<section class="card requires-material" id="quotesSection">
				<div class="row between" style="margin-bottom: 0;">
					<div id="quotesHeader" class="label collapsible-header">Quotes</div>
					<div class="controls">
						<div class="hint" id="quotesPageHint"></div>
						<button id="addQuote" class="btn">Add quote</button>
					</div>
				</div>

				<div id="quotesBody" style="margin-top: 10px;">
					<ul id="bookmarks" class="list"></ul>

					<div class="row" id="quotesGoRow">
						<input id="quotesPageInput" class="input" placeholder="Go to quote page #" />
						<button id="quotesGo" class="btn">Go</button>
					</div>

					<div class="row" id="quotesPager" aria-label="Quotes pagination">
						<button id="quotesFirst" class="btn small">First</button>
						<button id="quotesPrev" class="btn small">Prev</button>
						<div id="quotesPages" class="controls"></div>
						<button id="quotesNext" class="btn small">Next</button>
						<button id="quotesLast" class="btn small">Last</button>
					</div>
				</div>
			</section>

			<section class="card" id="dataSection">
				<div class="row between" style="margin-bottom: 0;">
					<div id="dataHeader" class="label collapsible-header">Data</div>
				</div>

				<div id="dataBody" style="margin-top: 10px;">
					<div class="row" id="importRow">
						<input id="importFile" type="file" accept="application/json" class="hidden" />
						<button id="importData" class="btn">Import data</button>
						<div class="hint" style="flex: 1;">Imports a JSON file previously exported.</div>
					</div>
					<div class="row" id="exportRow">
						<button id="exportData" class="btn">Export data</button>
						<div class="hint" style="flex: 1;">Downloads a JSON backup of everything saved.</div>
					</div>
					<div class="row" id="resetRow" style="margin-bottom: 0;">
						<button id="resetData" class="btn">Delete all saved data</button>
						<div class="hint" style="flex: 1;">Clears all saved materials/pages/quotes for this extension.</div>
					</div>
				</div>
			</section>
		</main>

		<script src="popup.js"></script>
	</body>
</html>
